{"version":3,"sources":["webpack:///./src/views/History.vue?f031","webpack:///./src/components/List.vue?0a2a","webpack:///./src/views/History.vue?533d","webpack:///./src/components/List.vue?b67e","webpack:///./src/components/List.vue","webpack:///./src/utils/formatDate.ts","webpack:///./src/utils/averageForDifficulty.ts","webpack:///./src/views/History.vue?f7d3","webpack:///./src/views/History.vue?d32d","webpack:///./src/views/History.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_l","avg","key","text","_s","value","history","length","nativeOn","$event","handleSort","sortField","sortIcon","_e","item","index","datetime","itemNumber","date","difficulty","timeElapsedDisplay","staticRenderFns","_t","script","component","monthNames","formatDate","t","d","Date","pad","getDate","getMonth","getFullYear","getHours","getMinutes","averageForDifficulty","diff","items","diffItems","filter","x","avgTime","reduce","p","c","timeElapsed","GameTimer","formatTime","sortOrder","averages","opts","get","map","Difficulty","easy","medium","hard","num","field","toggle","console","log","sort","a","b","bv","av","components","List","Button"],"mappings":"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","file":"js/history.57a8eede.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=style&index=0&id=263a4dbc&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=style&index=0&id=263a4dbc&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=1abea7d0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=1abea7d0&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"page history\"},[_c('header',{staticClass:\"history__header\"},[_c('h2',{staticClass:\"history__title\"},[_vm._v(\"Game history\")]),_c('aside',{staticClass:\"averages\"},[_c('h3',{staticClass:\"averages__title\"},[_vm._v(\"Average time elapsed\")]),_vm._l((_vm.averages),function(avg){return _c('div',{key:avg.text,staticClass:\"averages__item\"},[_c('div',[_vm._v(_vm._s(avg.text))]),_c('div',[_vm._v(_vm._s(avg.value))])])})],2)]),_c('List',[(!_vm.history.length)?_c('li',{staticClass:\"history__item history__item--no-items\"},[_vm._v(\"\\n      No history found.\\n    \")]):_c('li',{staticClass:\"history__item history__item--header\"},[_c('div',{staticClass:\"column-header\"},[_vm._v(\"#\")]),_c('div',{staticClass:\"column-header\"},[_c('Button',{staticClass:\"column-header__button\",nativeOn:{\"click\":function($event){return _vm.handleSort('datetime')}}},[_vm._v(\"Date\"),(_vm.sortField === 'datetime')?_c('span',{staticClass:\"column-header__icon\"},[_vm._v(_vm._s(_vm.sortIcon))]):_vm._e()])],1),_c('div',{staticClass:\"column-header\"},[_vm._v(\"Difficulty\")]),_c('div',{staticClass:\"column-header\"},[_c('Button',{staticClass:\"column-header__button\",nativeOn:{\"click\":function($event){return _vm.handleSort('timeElapsed')}}},[_vm._v(\"Time\"),(_vm.sortField === 'timeElapsed')?_c('span',{staticClass:\"column-header__icon\"},[_vm._v(_vm._s(_vm.sortIcon))]):_vm._e()])],1)]),_vm._l((_vm.items),function(item,index){return _c('li',{key:item.datetime,staticClass:\"history__item\"},[_c('div',[_vm._v(_vm._s(_vm.itemNumber(index)))]),_c('div',[_vm._v(_vm._s(item.date))]),_c('div',[_vm._v(_vm._s(item.difficulty))]),_c('div',[_vm._v(_vm._s(item.timeElapsedDisplay))])])})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"list\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=1abea7d0&scoped=true&\"\nvar script = {}\nimport style0 from \"./List.vue?vue&type=style&index=0&id=1abea7d0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1abea7d0\",\n  null\n  \n)\n\nexport default component.exports","import padNumber from './pad';\r\n\r\nconst monthNames = [\r\n  'Jan',\r\n  'Feb',\r\n  'Mar',\r\n  'Apr',\r\n  'May',\r\n  'Jun',\r\n  'Jul',\r\n  'Aug',\r\n  'Sep',\r\n  'Oct',\r\n  'Nov',\r\n  'Dec'\r\n];\r\n\r\nexport default function formatDate(t: number) {\r\n  const d = new Date(t);\r\n  return `${padNumber(d.getDate(), 2)} ${\r\n    monthNames[d.getMonth()]\r\n  } ${d.getFullYear()} @ ${padNumber(d.getHours(), 2)}:${padNumber(\r\n    d.getMinutes(),\r\n    2\r\n  )}`;\r\n}\r\n","import { Difficulty } from '@/sudoku/enums/Difficulty';\r\nimport GameTimer from './GameTimer';\r\n\r\nexport default function averageForDifficulty(diff: Difficulty, items: any[]) {\r\n  const diffItems = items.filter((x) => x.difficulty === diff);\r\n  const avgTime =\r\n    diffItems.reduce((p, c) => p + c.timeElapsed, 0) / diffItems.length;\r\n\r\n  return {\r\n    text: diff,\r\n    value: GameTimer.formatTime(avgTime || 0)\r\n  };\r\n}\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\n\nimport List from '@/components/List.vue';\nimport Button from '@/components/Button.vue';\n\nimport { GameResultView } from '@/interfaces/GameResult';\nimport GameTimer from '@/utils/GameTimer';\nimport { optsStore } from '@/utils/storage';\nimport formatDate from '@/utils/formatDate';\nimport padNumber from '@/utils/pad';\nimport averageForDifficulty from '@/utils/averageForDifficulty';\nimport { Difficulty } from '../sudoku/enums/Difficulty';\n\ntype ResultField = 'timeElapsed' | 'datetime';\n\n@Component({ components: { List, Button } })\nexport default class History extends Vue {\n  private sortOrder: number = 1;\n  private sortField: ResultField = 'timeElapsed';\n  private history: GameResultView[] = [];\n  private averages: any[] = [];\n\n  get items() {\n    console.log('items');\n    return this.history.sort((a, b) => {\n      const bv = b[this.sortField];\n      const av = a[this.sortField];\n\n      return this.sortOrder === 1 ? av - bv : bv - av;\n    });\n  }\n\n  get sortIcon() {\n    return this.sortOrder === 1 ? '\\u25B2\\uFE0E' : '\\u25BC\\uFE0E';\n  }\n\n  public mounted() {\n    const opts = optsStore.get();\n    this.history = opts.history.map((x) => ({\n      ...x,\n      date: formatDate(x.datetime),\n      timeElapsedDisplay: GameTimer.formatTime(x.timeElapsed)\n    }));\n\n    this.averages = [\n      averageForDifficulty(Difficulty.easy, this.history),\n      averageForDifficulty(Difficulty.medium, this.history),\n      averageForDifficulty(Difficulty.hard, this.history)\n    ];\n\n    // TODO\n    // Filter by difficulty\n  }\n\n  public itemNumber(num: number): string {\n    return `#${padNumber(num + 1, 3)}`;\n  }\n\n  public handleSort(field: ResultField) {\n    const toggle = this.sortField === field;\n\n    if (toggle) {\n      this.sortOrder = this.sortOrder === 1 ? -1 : 1;\n    }\n\n    this.sortField = field;\n\n    console.log('sort', this.sortField, this.sortOrder);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./History.vue?vue&type=template&id=263a4dbc&scoped=true&\"\nimport script from \"./History.vue?vue&type=script&lang=ts&\"\nexport * from \"./History.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./History.vue?vue&type=style&index=0&id=263a4dbc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"263a4dbc\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}