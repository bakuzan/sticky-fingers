(self["webpackChunksticky_fingers"]=self["webpackChunksticky_fingers"]||[]).push([[908],{7630:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return it}});var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("section",{staticClass:"page history"},[e("header",{staticClass:"history__header"},[e("h2",{staticClass:"history__title"},[t._v("Game history")]),e("aside",{staticClass:"averages"},[e("h3",{staticClass:"averages__title"},[t._v("Average time elapsed")]),t._l(t.averages,(function(i){return e("div",{key:i.text,staticClass:"averages__item"},[e("div",[t._v(t._s(i.text))]),e("div",[t._v(t._s(i.value))])])}))],2)]),e("div",{staticClass:"history__filters"},[e("MultiSelect",{attrs:{id:"difficultyFilter",name:"difficultyFilter",label:"Difficulty",values:t.difficulties,options:t.difficultyOptions},on:{update:t.onDifficultyUpdate}})],1),e("p",{staticClass:"history__count"},[t._v("Showing "+t._s(t.items.length)+" of "+t._s(t.history.length))]),e("List",[t.history.length?e("li",{staticClass:"history__item history__item--header"},[e("div",{staticClass:"column-header"},[t._v("#")]),e("div",{staticClass:"column-header"},[e("Button",{staticClass:"column-header__button",nativeOn:{click:function(e){return t.handleSort("datetime")}}},[t._v(" Date "),"datetime"===t.sortField?e("span",{staticClass:"column-header__icon"},[t._v(t._s(t.sortIcon))]):t._e()])],1),e("div",{staticClass:"column-header"},[t._v("Difficulty")]),e("div",{staticClass:"column-header"},[e("Button",{staticClass:"column-header__button",nativeOn:{click:function(e){return t.handleSort("timeElapsed")}}},[t._v(" Time "),"timeElapsed"===t.sortField?e("span",{staticClass:"column-header__icon"},[t._v(t._s(t.sortIcon))]):t._e()])],1)]):e("li",{staticClass:"history__item history__item--no-items"},[t._v("No history found.")]),t._l(t.items,(function(i,n){return e("li",{key:i.datetime,staticClass:"history__item"},[e("div",[t._v(t._s(t.itemNumber(n)))]),e("div",[t._v(t._s(i.date))]),e("div",[t._v(t._s(i.difficulty))]),e("div",[t._v(t._s(i.timeElapsedDisplay))])])}))],2)],1)},s=[],a=i(4648),r=i(3087),o=i(2833),l=i(3806),u=i(1481),c=(i(1249),i(2479),i(2707),i(7327),i(1539),i(6699),i(2023),i(655)),d=i(2111),f=i(4739),p=i(1929),v=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"list"},[t._t("default")],2)},h=[],y=i(1001),_={},m=(0,y.Z)(_,v,h,!1,null,"e7610b5e",null),g=m.exports,k=i(653),C=(i(8309),i(3948),function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"multi-select"},[e("div",{staticClass:"multi-select__display display has-float-label"},[e("input",{staticClass:"display__input",attrs:{id:t.id,name:t.name,placeholder:t.placeholder,type:"text",autocomplete:"off",tabindex:"0",readonly:""},domProps:{value:t.displayValue},on:{click:t.handleToggleOpen,keydown:t.handleToggleOpen}}),e("label",{attrs:{for:t.id}},[t._v(t._s(t.label))])]),t.isOpen?e("div",{directives:[{name:"skf-outside-click",rawName:"v-skf-outside-click",value:t.handleToggleClose,expression:"handleToggleClose"}],class:t.dropdownClasses},[e("ul",{staticClass:"multi-select__list"},[e("li",[e("Tickbox",{attrs:{name:t.selectAllName,checked:t.hasAllSelected,text:"Select All"},on:{change:t.handleSelectAll}})],1),e("li",{staticClass:"multi-select__separator"}),t._l(t.options,(function(i,n){return e("li",{key:i.value},[e("Tickbox",{attrs:{name:t.getName(n),text:i.text,checked:t.values.includes(i.value)},on:{change:t.handleOptionChange}})],1)}))],2)]):t._e()])}),b=[],x=i(9584),Z=(i(9826),i(2222),i(9653),i(4916),i(5306),i(189),i(8783),function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"input-container input-container--checkbox"},[e("label",{class:t.tickboxClasses,attrs:{for:t.id}},[e("input",{staticClass:"tickbox__input",attrs:{id:t.id,name:t.name,disabled:t.disabled,type:"checkbox"},domProps:{checked:t.checked},on:{change:t.change}}),t._v(" "+t._s(t.text)+" ")])])}),O=[],S=i(5147),w=function(t){(0,l.Z)(i,t);var e=(0,u.Z)(i);function i(){return(0,r.Z)(this,i),e.apply(this,arguments)}return(0,o.Z)(i,[{key:"tickboxClasses",get:function(){return(0,S.Z)("tickbox",this.customTickbox)}},{key:"change",value:function(t){var e=t.target;return{checked:e.checked,name:this.name}}}]),i}(p.w3);(0,c.gn)([(0,p.fI)({type:String})],w.prototype,"id",void 0),(0,c.gn)([(0,p.fI)({type:String,default:void 0})],w.prototype,"name",void 0),(0,c.gn)([(0,p.fI)({type:String})],w.prototype,"text",void 0),(0,c.gn)([(0,p.fI)({type:Boolean})],w.prototype,"checked",void 0),(0,c.gn)([(0,p.fI)({type:Boolean,default:!1})],w.prototype,"disabled",void 0),(0,c.gn)([(0,p.fI)({type:String,default:""})],w.prototype,"customTickbox",void 0),(0,c.gn)([(0,p.y1)()],w.prototype,"change",null),w=(0,c.gn)([p.wA],w);var A,I=w,M=I,T=(0,y.Z)(M,Z,O,!1,null,"2cf7d3e7",null),D=T.exports,N=i(144);(function(t){t["q"]="KeyQ",t["backspace"]="Backspace",t["enter"]="Enter",t["escape"]="Escape",t["up"]="ArrowUp",t["down"]="ArrowDown",t["space"]="Space"})(A||(A={}));A.escape,A.enter;var E=[A.space,A.enter];function F(t,e){return document.addEventListener(t,e),function(){return document.removeEventListener(t,e)}}function P(t,e){function i(i){var n=t.contains(i.target);n||e(i)}function n(t){var i=t;A.escape===i.code&&e(t)}var s=F("keydown",n),a=F("click",i);return function(){s(),a()}}var B={acceptStatement:!0,bind:function(t,e,i){var n=i.context;n.removeOutsideClick=P(t,e.value)},unbind:function(t,e,i){var n=i.context;n.removeOutsideClick&&n.removeOutsideClick()}},j=B;N.ZP.directive("skf-outside-click",B);var L=/^.*-/g,z="option-",J="All Selected",U=function(t){(0,l.Z)(i,t);var e=(0,u.Z)(i);function i(){var t;return(0,r.Z)(this,i),t=e.apply(this,arguments),t.selectAllName="".concat(t.id,"--selectAll"),t.isOpen=!1,t.removeOutsideClick=function(){return null},t}return(0,o.Z)(i,[{key:"dropdownClasses",get:function(){return(0,S.Z)("multi-select__dropdown-container",this.isOpen&&"multi-select__dropdown-container--is-open",this.listClassName)}},{key:"displayValue",get:function(){var t=this,e=this.values.length;if(!e)return"";if(e===this.options.length)return J;if(1===e){var i=this.options.find((function(e){return t.values.includes(e.value)}));return i?i.text:""}return"".concat(e," selected")}},{key:"hasAllSelected",get:function(){return this.values.length===this.options.length}},{key:"getName",value:function(t){return"".concat(this.id,"--").concat(z).concat(t)}},{key:"handleToggleOpen",value:function(t){if(!this.disabled){if("click"!==t.type){var e=t,i=E,n=!i.includes(e.code);if(!n)return}t.stopPropagation(),this.isOpen=!0}}},{key:"handleToggleClose",value:function(){this.isOpen=!1}},{key:"handleOptionChange",value:function(t){var e=t.name,i=void 0===e?"":e,n=Number(i.replace(L,"")),s=this.options.find((function(t,e){return e===n}));if(s){var a=new Set((0,x.Z)(this.values)),r=a.has(s.value);r?(a.delete(s.value),this.$emit("update",(0,x.Z)(a.values()),this.name)):(a.add(s.value),this.$emit("update",(0,x.Z)(a.values()),this.name))}}},{key:"handleSelectAll",value:function(){var t=new Set((0,x.Z)(this.values)),e=new Set((0,x.Z)(this.options.map((function(t){return t.value})))),i=t.size===e.size,n=i?[]:(0,x.Z)(e.values());this.$emit("update",n,this.name)}}]),i}(p.w3);(0,c.gn)([(0,p.fI)({type:String})],U.prototype,"id",void 0),(0,c.gn)([(0,p.fI)({type:String,default:void 0})],U.prototype,"name",void 0),(0,c.gn)([(0,p.fI)({type:String,default:"MultiSelect"})],U.prototype,"label",void 0),(0,c.gn)([(0,p.fI)({type:String,default:"None selected"})],U.prototype,"placeholder",void 0),(0,c.gn)([(0,p.fI)({type:Array,default:function(){return[]}})],U.prototype,"values",void 0),(0,c.gn)([(0,p.fI)({type:Array,default:function(){return[]}})],U.prototype,"options",void 0),(0,c.gn)([(0,p.fI)({type:Boolean,default:!1})],U.prototype,"disabled",void 0),(0,c.gn)([(0,p.fI)({type:String,default:""})],U.prototype,"listClassName",void 0),U=(0,c.gn)([(0,p.wA)({components:{Tickbox:D},directives:{OutsideClick:j}})],U);var $=U,V=$,q=(0,y.Z)(V,C,b,!1,null,"6b5a3c62",null),G=q.exports,H=i(927),K=i(4277);function Q(t,e){var i=e.filter((function(e){return e.difficulty===t})),n=Math.round(i.reduce((function(t,e){return t+e.timeElapsed}),0)/i.length);return{text:t,value:H.Z.formatTime(n||0)}}var Y=i(1018),R=Object.values(Y.a).map((function(t){return{value:t,text:t}})),W=function(t){(0,l.Z)(i,t);var e=(0,u.Z)(i);function i(){var t;return(0,r.Z)(this,i),t=e.apply(this,arguments),t.sortOrder=1,t.sortField="timeElapsed",t.difficulties=[],t.history=[],t.averages=[],t}return(0,o.Z)(i,[{key:"items",get:function(){var t=this;return this.history.filter((function(e){return t.difficulties.includes(e.difficulty)})).sort((function(e,i){var n=i[t.sortField],s=e[t.sortField];return 1===t.sortOrder?s-n:n-s}))}},{key:"sortIcon",get:function(){return 1===this.sortOrder?"▲︎":"▼︎"}},{key:"difficultyOptions",get:function(){return R}},{key:"mounted",value:function(){var t=K.Z.get();this.difficulties=[t.difficulty],this.history=t.history.map((function(t){return(0,a.Z)((0,a.Z)({},t),{},{date:(0,d.Z)(t.datetime),timeElapsedDisplay:H.Z.formatTime(t.timeElapsed)})})),this.averages=[Q(Y.a.easy,this.history),Q(Y.a.medium,this.history),Q(Y.a.hard,this.history)]}},{key:"itemNumber",value:function(t){return"#".concat((0,f["default"])(t+1,3))}},{key:"handleSort",value:function(t){var e=this.sortField===t;e&&(this.sortOrder=1===this.sortOrder?-1:1),this.sortField=t}},{key:"onDifficultyUpdate",value:function(t){this.difficulties=t}}]),i}(p.w3);W=(0,c.gn)([(0,p.wA)({components:{List:g,Button:k.Z,MultiSelect:G}})],W);var X=W,tt=X,et=(0,y.Z)(tt,n,s,!1,null,"2640125c",null),it=et.exports},7427:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var i=Object.freeze(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]);e["default"]=i},3941:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var n=a(i(7427)),s=a(i(4739));function a(t){return t&&t.__esModule?t:{default:t}}function r(t){if(!t)return"";var e=new Date(t);return"".concat((0,s["default"])(e.getDate(),2)," ").concat(n["default"][e.getMonth()]," ").concat(e.getFullYear())}},2111:function(t,e,i){"use strict";e.Z=r;var n=a(i(3941)),s=a(i(1919));function a(t){return t&&t.__esModule?t:{default:t}}function r(t){return"".concat((0,n["default"])(t)," @ ").concat((0,s["default"])(t))}},1919:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a;var n=s(i(4739));function s(t){return t&&t.__esModule?t:{default:t}}function a(t){return t?"".concat((0,n["default"])(new Date(t).getHours(),2),":").concat((0,n["default"])(new Date(t).getMinutes(),2)):""}},9826:function(t,e,i){"use strict";var n=i(2109),s=i(2092).find,a=i(1223),r="find",o=!0;r in[]&&Array(1)[r]((function(){o=!1})),n({target:"Array",proto:!0,forced:o},{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),a(r)},7227:function(t,e,i){"use strict";var n=i(7710),s=i(5631);n("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),s)},189:function(t,e,i){i(7227)}}]);
//# sourceMappingURL=history-legacy.d409009d.js.map