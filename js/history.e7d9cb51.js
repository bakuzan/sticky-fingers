"use strict";(self["webpackChunksticky_fingers"]=self["webpackChunksticky_fingers"]||[]).push([[908],{1065:function(t,e,s){s.r(e),s.d(e,{default:function(){return R}});var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("section",{staticClass:"page history"},[e("header",{staticClass:"history__header"},[e("h2",{staticClass:"history__title"},[t._v("Game history")]),e("aside",{staticClass:"averages"},[e("h3",{staticClass:"averages__title"},[t._v("Average time elapsed")]),t._l(t.averages,(function(s){return e("div",{key:s.text,staticClass:"averages__item"},[e("div",[t._v(t._s(s.text))]),e("div",[t._v(t._s(s.value))])])}))],2)]),e("div",{staticClass:"history__filters"},[e("MultiSelect",{attrs:{id:"difficultyFilter",name:"difficultyFilter",label:"Difficulty",values:t.difficulties,options:t.difficultyOptions},on:{update:t.onDifficultyUpdate}})],1),e("p",{staticClass:"history__count"},[t._v(" Showing "+t._s(t.items.length)+" of "+t._s(t.history.length)+" ")]),e("table",{staticClass:"list"},[e("thead",[e("tr",{staticClass:"history__item history__item--header"},[e("th",{staticClass:"column-header"},[t._v("#")]),e("th",{staticClass:"column-header"},[e("Button",{staticClass:"column-header__button",nativeOn:{click:function(e){return t.handleSort("datetime")}}},[t._v(" Date "),"datetime"===t.sortField?e("span",{staticClass:"column-header__icon"},[t._v(t._s(t.sortIcon))]):t._e()])],1),e("th",{staticClass:"column-header"},[t._v("Difficulty")]),e("th",{staticClass:"column-header"},[e("Button",{staticClass:"column-header__button",nativeOn:{click:function(e){return t.handleSort("timeElapsed")}}},[t._v(" Time "),"timeElapsed"===t.sortField?e("span",{staticClass:"column-header__icon"},[t._v(t._s(t.sortIcon))]):t._e()])],1)])]),e("tbody",t._l(t.items,(function(s,i){return e("tr",{key:s.datetime,staticClass:"history__item"},[e("td",{attrs:{"column-title":"Rank"}},[t._v(t._s(t.itemNumber(i)))]),e("td",{attrs:{"column-title":"Date"}},[t._v(t._s(s.date))]),e("td",{attrs:{"column-title":"Difficulty"}},[t._v(t._s(s.difficulty))]),e("td",{attrs:{"column-title":"Time"}},[t._v(" "+t._s(s.timeElapsedDisplay)+" ")])])})),0)])])},n=[],a=s(655),l=s(2111),o=s(4739),r=s(1929),c=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"list"},[t._t("default")],2)},u=[],d=s(1001),p={},f=(0,d.Z)(p,c,u,!1,null,"e7610b5e",null),h=f.exports,v=s(653),_=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"multi-select"},[e("div",{staticClass:"multi-select__display display has-float-label"},[e("input",{staticClass:"display__input",attrs:{id:t.id,name:t.name,placeholder:t.placeholder,type:"text",autocomplete:"off",tabindex:"0",readonly:""},domProps:{value:t.displayValue},on:{click:t.handleToggleOpen,keydown:t.handleToggleOpen}}),e("label",{attrs:{for:t.id}},[t._v(t._s(t.label))])]),t.isOpen?e("div",{directives:[{name:"skf-outside-click",rawName:"v-skf-outside-click",value:t.handleToggleClose,expression:"handleToggleClose"}],class:t.dropdownClasses},[e("ul",{staticClass:"multi-select__list"},[e("li",[e("Tickbox",{attrs:{name:t.selectAllName,checked:t.hasAllSelected,text:"Select All"},on:{change:t.handleSelectAll}})],1),e("li",{staticClass:"multi-select__separator"}),t._l(t.options,(function(s,i){return e("li",{key:s.value},[e("Tickbox",{attrs:{name:t.getName(i),text:s.text,checked:t.values.includes(s.value)},on:{change:t.handleOptionChange}})],1)}))],2)]):t._e()])},m=[],y=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"input-container input-container--checkbox"},[e("label",{class:t.tickboxClasses,attrs:{for:t.id}},[e("input",{staticClass:"tickbox__input",attrs:{id:t.id,name:t.name,disabled:t.disabled,type:"checkbox"},domProps:{checked:t.checked},on:{change:t.change}}),t._v(" "+t._s(t.text)+" ")])])},g=[],k=s(5147);let C=class extends r.w3{get tickboxClasses(){return(0,k.Z)("tickbox",this.customTickbox)}change(t){const e=t.target;return{checked:e.checked,name:this.name}}};(0,a.gn)([(0,r.fI)({type:String})],C.prototype,"id",void 0),(0,a.gn)([(0,r.fI)({type:String,default:void 0})],C.prototype,"name",void 0),(0,a.gn)([(0,r.fI)({type:String})],C.prototype,"text",void 0),(0,a.gn)([(0,r.fI)({type:Boolean})],C.prototype,"checked",void 0),(0,a.gn)([(0,r.fI)({type:Boolean,default:!1})],C.prototype,"disabled",void 0),(0,a.gn)([(0,r.fI)({type:String,default:""})],C.prototype,"customTickbox",void 0),(0,a.gn)([(0,r.y1)()],C.prototype,"change",null),C=(0,a.gn)([r.wA],C);var b,x=C,O=x,S=(0,d.Z)(O,y,g,!1,null,"2cf7d3e7",null),w=S.exports,A=s(144);(function(t){t["q"]="KeyQ",t["backspace"]="Backspace",t["enter"]="Enter",t["escape"]="Escape",t["up"]="ArrowUp",t["down"]="ArrowDown",t["space"]="Space"})(b||(b={}));b.escape,b.enter;const I=[b.space,b.enter];function D(t,e){return document.addEventListener(t,e),()=>document.removeEventListener(t,e)}function T(t,e){function s(s){const i=t.contains(s.target);i||e(s)}function i(t){const s=t;b.escape===s.code&&e(t)}const n=D("keydown",i),a=D("click",s);return()=>{n(),a()}}const M={acceptStatement:!0,bind(t,e,s){const i=s.context;i.removeOutsideClick=T(t,e.value)},unbind(t,e,s){const i=s.context;i.removeOutsideClick&&i.removeOutsideClick()}};var Z=M;A.ZP.directive("skf-outside-click",M);const N=/^.*-/g,E="option-",F="All Selected";let P=class extends r.w3{constructor(){super(...arguments),this.selectAllName=`${this.id}--selectAll`,this.isOpen=!1,this.removeOutsideClick=()=>null}get dropdownClasses(){return(0,k.Z)("multi-select__dropdown-container",this.isOpen&&"multi-select__dropdown-container--is-open",this.listClassName)}get displayValue(){const t=this.values.length;if(!t)return"";if(t===this.options.length)return F;if(1===t){const t=this.options.find((t=>this.values.includes(t.value)));return t?t.text:""}return`${t} selected`}get hasAllSelected(){return this.values.length===this.options.length}getName(t){return`${this.id}--${E}${t}`}handleToggleOpen(t){if(!this.disabled){if("click"!==t.type){const e=t,s=I,i=!s.includes(e.code);if(!i)return}t.stopPropagation(),this.isOpen=!0}}handleToggleClose(){this.isOpen=!1}handleOptionChange(t){const{name:e=""}=t,s=Number(e.replace(N,"")),i=this.options.find(((t,e)=>e===s));if(!i)return;const n=new Set([...this.values]),a=n.has(i.value);a?(n.delete(i.value),this.$emit("update",[...n.values()],this.name)):(n.add(i.value),this.$emit("update",[...n.values()],this.name))}handleSelectAll(){const t=new Set([...this.values]),e=new Set([...this.options.map((t=>t.value))]),s=t.size===e.size,i=s?[]:[...e.values()];this.$emit("update",i,this.name)}};(0,a.gn)([(0,r.fI)({type:String})],P.prototype,"id",void 0),(0,a.gn)([(0,r.fI)({type:String,default:void 0})],P.prototype,"name",void 0),(0,a.gn)([(0,r.fI)({type:String,default:"MultiSelect"})],P.prototype,"label",void 0),(0,a.gn)([(0,r.fI)({type:String,default:"None selected"})],P.prototype,"placeholder",void 0),(0,a.gn)([(0,r.fI)({type:Array,default:()=>[]})],P.prototype,"values",void 0),(0,a.gn)([(0,r.fI)({type:Array,default:()=>[]})],P.prototype,"options",void 0),(0,a.gn)([(0,r.fI)({type:Boolean,default:!1})],P.prototype,"disabled",void 0),(0,a.gn)([(0,r.fI)({type:String,default:""})],P.prototype,"listClassName",void 0),P=(0,a.gn)([(0,r.wA)({components:{Tickbox:w},directives:{OutsideClick:Z}})],P);var $=P,B=$,j=(0,d.Z)(B,_,m,!1,null,"6b5a3c62",null),z=j.exports,J=s(927),L=s(4277);function U(t,e){const s=e.filter((e=>e.difficulty===t)),i=Math.round(s.reduce(((t,e)=>t+e.timeElapsed),0)/s.length);return{text:t,value:J.Z.formatTime(i||0)}}var V=s(1018);const q=Object.values(V.a).map((t=>({value:t,text:t})));let G=class extends r.w3{constructor(){super(...arguments),this.sortOrder=1,this.sortField="timeElapsed",this.difficulties=[],this.history=[],this.averages=[]}get items(){return this.history.filter((t=>this.difficulties.includes(t.difficulty))).sort(((t,e)=>{const s=e[this.sortField],i=t[this.sortField];return 1===this.sortOrder?i-s:s-i}))}get sortIcon(){return 1===this.sortOrder?"▲︎":"▼︎"}get difficultyOptions(){return q}mounted(){const t=L.Z.get();this.difficulties=[t.difficulty],this.history=t.history.map((t=>({...t,date:(0,l.Z)(t.datetime),timeElapsedDisplay:J.Z.formatTime(t.timeElapsed)}))),this.averages=[U(V.a.easy,this.history),U(V.a.medium,this.history),U(V.a.hard,this.history)]}itemNumber(t){return`#${(0,o["default"])(t+1,3)}`}handleSort(t){const e=this.sortField===t;e&&(this.sortOrder=1===this.sortOrder?-1:1),this.sortField=t}onDifficultyUpdate(t){this.difficulties=t}};G=(0,a.gn)([(0,r.wA)({components:{List:h,Button:v.Z,MultiSelect:z}})],G);var H=G,K=H,Q=(0,d.Z)(K,i,n,!1,null,"24e13266",null),R=Q.exports},7427:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var s=Object.freeze(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]);e["default"]=s},3941:function(t,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l;var i=a(s(7427)),n=a(s(4739));function a(t){return t&&t.__esModule?t:{default:t}}function l(t){if(!t)return"";var e=new Date(t);return"".concat((0,n["default"])(e.getDate(),2)," ").concat(i["default"][e.getMonth()]," ").concat(e.getFullYear())}},2111:function(t,e,s){e.Z=l;var i=a(s(3941)),n=a(s(1919));function a(t){return t&&t.__esModule?t:{default:t}}function l(t){return"".concat((0,i["default"])(t)," @ ").concat((0,n["default"])(t))}},1919:function(t,e,s){Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a;var i=n(s(4739));function n(t){return t&&t.__esModule?t:{default:t}}function a(t){return t?"".concat((0,i["default"])(new Date(t).getHours(),2),":").concat((0,i["default"])(new Date(t).getMinutes(),2)):""}}}]);
//# sourceMappingURL=history.e7d9cb51.js.map